# MCP 2025-11-25 Compatibility Notes

## High-priority spec deltas
- JSON Schema 2020-12 is the default dialect; align validation to avoid rejecting client schemas.
- Enum/elicitation updates: titled enums, single/multi-select, defaults, URL-mode elicitation; payload shapes will differ.
- Sampling side: tool invocation via `tools`/`toolChoice`; clients may send these in sampling requests.

## VS Code / Copilot support
- Tasks (durable requests with polling/deferred results): **not supported** in Copilot Chat or VS Code MCP client today.
- Sampling with `tools`/`toolChoice`: **not supported** in Copilot Chat/VS Code; they treat MCP as synchronous tool calls.
- Icons for tools/resources/prompts: no first-class UI in Copilot; safe to ignore for VS Code UX.

## Workarounds (if needed now)
- Tasks: emulate with a long-running tool + streaming/progress events, or build a custom VS Code extension/client that understands the task APIs.
- Sampling with tools: require a client that can surface sampling APIs; fallback is to keep using standard MCP tool calls.

## Next steps (suggested)
- Ensure server-side schema handling is 2020-12 aware and accepts the new enum/elicitation shapes.
- Decide whether to implement task/sampling support behind capability flags, gated to clients that declare support.
- If targeting VS Code/Copilot, prioritize robustness (buffering, restarts) and schema compatibility over task/sampling UI features.
